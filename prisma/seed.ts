import { PrismaClient } from '@prisma/client';
import { createId } from '@paralleldrive/cuid2';

const prisma = new PrismaClient();

async function main() {
  console.log('ðŸŒ± Iniciando seed...');

  await prisma.order_items.deleteMany();
  await prisma.orders.deleteMany();
  await prisma.product_reviews.deleteMany();
  await prisma.products.deleteMany();
  await prisma.categories.deleteMany();
  await prisma.user.deleteMany();

  const [ninas, ninos, bebes] = await Promise.all([
    prisma.categories.create({ data: { id: createId(), name: 'Ropa de NiÃ±as', description: 'Vestidos, conjuntos y accesorios para niÃ±as de 2 a 12 aÃ±os', imageUrl: 'https://images.unsplash.com/photo-1518831959646-742c3a14ebf7?w=800', icon: 'ðŸ‘—', updatedAt: new Date() }}),
    prisma.categories.create({ data: { id: createId(), name: 'Ropa de NiÃ±os', description: 'Remeras, pantalones y buzos para niÃ±os de 2 a 12 aÃ±os', imageUrl: 'https://images.unsplash.com/photo-1503342217505-b0a15ec3261c?w=800', icon: 'ðŸ‘•', updatedAt: new Date() }}),
    prisma.categories.create({ data: { id: createId(), name: 'Ropa de BebÃ©s', description: 'Bodies, enteritos y conjuntos para bebÃ©s de 0 a 24 meses', imageUrl: 'https://images.unsplash.com/photo-1519689373023-dd07c7988603?w=800', icon: 'ðŸ‘¶', updatedAt: new Date() }})
  ]);

  const products = [
    // NIÃ‘AS
    { id: createId(), name: 'Vestido Floral Rosa', description: 'Hermoso vestido con estampado de flores, confeccionado en algodÃ³n 100%. Ideal para eventos especiales o uso diario. Incluye lazo ajustable en la cintura.', price: 8500, salePrice: 6800, stock: 25, onSale: true, categoryId: ninas.id, images: '["https://images.unsplash.com/photo-1518831959646-742c3a14ebf7?w=800","https://images.unsplash.com/photo-1621452773781-0f992fd1f5cb?w=800","https://images.unsplash.com/photo-1596755389378-c31d21fd1273?w=800"]', colors: ['Rosa','Celeste','Blanco'], sizes: ['4','6','8','10','12'], features: ['100% algodÃ³n premium','Estampado floral resistente','Lavable en lavarropas','Lazo ajustable en cintura','Forro interior suave'], rating: 4.8, reviewCount: 42, weight: 180, height: 2, width: 25, length: 35, updatedAt: new Date() },
    { id: createId(), name: 'Conjunto Deportivo Rosa', description: 'Conjunto deportivo de 2 piezas: buzo con capucha y pantalÃ³n jogger. Confeccionado en tela francesa de primera calidad, ideal para el dÃ­a a dÃ­a.', price: 7200, stock: 18, categoryId: ninas.id, images: '["https://images.unsplash.com/photo-1503944583220-79d8926ad5e2?w=800","https://images.unsplash.com/photo-1582552938357-32b906d8788f?w=800"]', colors: ['Rosa','Gris','Negro'], sizes: ['4','6','8','10'], features: ['Tela deportiva respirable','Capucha con cordÃ³n','Bolsillos laterales','PuÃ±os y ruedo con elastano'], rating: 4.6, reviewCount: 28, weight: 320, height: 3, width: 28, length: 38, updatedAt: new Date() },
    { id: createId(), name: 'Remera Unicornio con Lentejuelas', description: 'Remera mÃ¡gica con diseÃ±o de unicornio en lentejuelas reversibles. Al pasar la mano cambia de color. Confeccionada en algodÃ³n suave.', price: 4800, salePrice: 3600, stock: 35, onSale: true, categoryId: ninas.id, images: '["https://images.unsplash.com/photo-1596755389378-c31d21fd1273?w=800"]', colors: ['Blanco','Rosa','Celeste'], sizes: ['2','4','6','8','10'], features: ['Lentejuelas reversibles mÃ¡gicas','100% algodÃ³n','DiseÃ±o de unicornio','Cuello redondo reforzado'], rating: 4.9, reviewCount: 67, weight: 120, height: 1, width: 22, length: 28, updatedAt: new Date() },
    { id: createId(), name: 'Jean Skinny Celeste', description: 'Jean elastizado de corte skinny, cÃ³modo y moderno. Tela denim con elastano para mayor movilidad. Cinco bolsillos y cierre con botÃ³n.', price: 6900, stock: 22, categoryId: ninas.id, images: '["https://images.unsplash.com/photo-1624378439575-d8705ad7ae80?w=800"]', colors: ['Celeste','Azul','Negro'], sizes: ['6','8','10','12','14'], features: ['Denim stretch premium','Corte skinny moderno','5 bolsillos funcionales','Cierre con botÃ³n metÃ¡lico'], rating: 4.7, reviewCount: 31, weight: 280, height: 2, width: 26, length: 32, updatedAt: new Date() },
    { id: createId(), name: 'Campera Acolchada con Capucha', description: 'Campera ultraliviana con relleno sintÃ©tico de alta calidad. Repelente al agua, con capucha desmontable y bolsillos con cierre. Ideal para entretiempo.', price: 12500, stock: 15, categoryId: ninas.id, images: '["https://images.unsplash.com/photo-1591047139829-d91aecb6caea?w=800","https://images.unsplash.com/photo-1544923408-75c5cef46f14?w=800"]', colors: ['Rosa','Azul marino','Negro'], sizes: ['6','8','10','12'], features: ['Ultraliviana y abrigada','Capucha desmontable','Repelente al agua','Bolsillos con cierre','Relleno sintÃ©tico hipoalergÃ©nico'], rating: 4.8, reviewCount: 19, weight: 380, height: 5, width: 32, length: 42, updatedAt: new Date() },
    // NIÃ‘OS
    { id: createId(), name: 'Remera SelecciÃ³n Argentina', description: 'Remera deportiva con los colores de la SelecciÃ³n Argentina. Tela deportiva de secado rÃ¡pido, perfecta para jugar al fÃºtbol o uso diario.', price: 4500, stock: 38, categoryId: ninos.id, images: '["https://images.unsplash.com/photo-1503342217505-b0a15ec3261c?w=800"]', colors: ['Celeste y blanco','Azul marino'], sizes: ['4','6','8','10','12','14'], features: ['Tela deportiva respirable','Secado rÃ¡pido','Colores selecciÃ³n argentina','Cuello reforzado'], rating: 4.8, reviewCount: 94, weight: 130, height: 1, width: 24, length: 30, updatedAt: new Date() },
    { id: createId(), name: 'Conjunto Deportivo Nike Style', description: 'Conjunto deportivo inspirado en las grandes marcas: buzo canguro con capucha y pantalÃ³n jogger. Tela francesa de primera calidad con interior afelpado.', price: 8900, salePrice: 7120, stock: 16, onSale: true, categoryId: ninos.id, images: '["https://images.unsplash.com/photo-1581655353564-df123a1eb820?w=800"]', colors: ['Negro','Azul marino','Gris'], sizes: ['6','8','10','12','14'], features: ['Tela francesa afelpada','Buzo tipo canguro','PantalÃ³n con bolsillos','PuÃ±os y ruedo elastizados'], rating: 4.7, reviewCount: 45, weight: 420, height: 4, width: 30, length: 38, updatedAt: new Date() },
    { id: createId(), name: 'Jean Recto ClÃ¡sico Azul', description: 'Jean clÃ¡sico de corte recto, cinco bolsillos funcionales. Denim de alta resistencia, ideal para el uso diario y el colegio.', price: 7200, stock: 25, categoryId: ninos.id, images: '["https://images.unsplash.com/photo-1624378439575-d8705ad7ae80?w=800"]', colors: ['Azul','Negro','Gris'], sizes: ['6','8','10','12','14','16'], features: ['Denim resistente','Corte recto clÃ¡sico','5 bolsillos','Cierre con botÃ³n'], rating: 4.6, reviewCount: 38, weight: 320, height: 2, width: 28, length: 34, updatedAt: new Date() },
    { id: createId(), name: 'Buzo Canguro Gamer', description: 'Buzo con capucha y diseÃ±o gamer, perfecto para los fanÃ¡ticos de los videojuegos. Tela francesa afelpada sÃºper cÃ³moda, con bolsillo tipo canguro.', price: 6800, stock: 22, categoryId: ninos.id, images: '["https://images.unsplash.com/photo-1556821840-3a63f95609a7?w=800"]', colors: ['Negro','Gris oscuro','Azul'], sizes: ['8','10','12','14'], features: ['DiseÃ±o gamer exclusivo','Tela francesa afelpada','Capucha con cordÃ³n','Bolsillo canguro grande'], rating: 4.9, reviewCount: 67, weight: 380, height: 3, width: 30, length: 36, updatedAt: new Date() },
    { id: createId(), name: 'Bermuda Cargo con Bolsillos', description: 'Bermuda de gabardina con mÃºltiples bolsillos cargo. Ideal para el verano y actividades al aire libre. Cintura regulable con elÃ¡stico interno.', price: 5400, stock: 30, categoryId: ninos.id, images: '["https://images.unsplash.com/photo-1598032895397-d5abbd161a07?w=800"]', colors: ['Beige','Verde militar','Azul'], sizes: ['6','8','10','12','14'], features: ['Gabardina resistente','MÃºltiples bolsillos cargo','Cintura regulable','Ideal para verano'], rating: 4.5, reviewCount: 29, weight: 240, height: 2, width: 26, length: 30, updatedAt: new Date() },
    // BEBÃ‰S
    { id: createId(), name: 'Pack 3 Bodies de AlgodÃ³n', description: 'Set de 3 bodies de algodÃ³n peinado extra suave. Broches en la entrepierna para facilitar el cambio de paÃ±al. Perfectos para uso diario.', price: 6900, stock: 35, categoryId: bebes.id, images: '["https://images.unsplash.com/photo-1519689373023-dd07c7988603?w=800"]', colors: ['Blanco','Beige','Gris'], sizes: ['0-3 meses','3-6 meses','6-9 meses','9-12 meses'], features: ['Pack de 3 unidades','AlgodÃ³n peinado 100%','Broches en entrepierna','Cuello elÃ¡stico reforzado','Lavable a mÃ¡quina'], rating: 4.9, reviewCount: 127, weight: 150, height: 1, width: 20, length: 25, updatedAt: new Date() },
    { id: createId(), name: 'Enterito Osito Polar', description: 'Enterito de polar sÃºper suave con capucha de osito. Incluye piecitos cerrados y cierre frontal completo. Ideal para los dÃ­as frÃ­os.', price: 8500, salePrice: 6800, stock: 18, onSale: true, categoryId: bebes.id, images: '["https://images.unsplash.com/photo-1515488042361-ee00e0ddd4e4?w=800"]', colors: ['Beige','Gris','Celeste'], sizes: ['0-3 meses','3-6 meses','6-9 meses'], features: ['Polar suave y abrigado','Capucha con orejas de osito','Piecitos cerrados','Cierre frontal completo'], rating: 5.0, reviewCount: 89, weight: 200, height: 2, width: 22, length: 28, updatedAt: new Date() },
    { id: createId(), name: 'Conjunto 3 Piezas AlgodÃ³n', description: 'Set completo: body, pantalÃ³n y gorrito a juego. Confeccionado en algodÃ³n orgÃ¡nico certificado, ideal para pieles sensibles.', price: 7800, stock: 24, categoryId: bebes.id, images: '["https://images.unsplash.com/photo-1522771930-78848d9293e8?w=800"]', colors: ['Blanco','Menta','Rosa suave'], sizes: ['0-3 meses','3-6 meses','6-9 meses'], features: ['Set de 3 piezas','AlgodÃ³n orgÃ¡nico certificado','Sin irritantes','Body con broches','Gorrito elÃ¡stico'], rating: 4.8, reviewCount: 64, weight: 180, height: 2, width: 22, length: 26, updatedAt: new Date() },
    { id: createId(), name: 'Pijama 2 Piezas Estrellas', description: 'Pijama de dos piezas con estampado de estrellas. Remera de manga larga y pantalÃ³n con piecitos antideslizantes. Perfecto para dormir seguro.', price: 5600, stock: 28, categoryId: bebes.id, images: '["https://images.unsplash.com/photo-1519689373023-dd07c7988603?w=800"]', colors: ['Azul','Rosa','Gris'], sizes: ['6-9 meses','9-12 meses','12-18 meses'], features: ['Estampado de estrellas','Piecitos antideslizantes','AlgodÃ³n suave','ElÃ¡stico en cintura'], rating: 4.7, reviewCount: 43, weight: 170, height: 2, width: 22, length: 28, updatedAt: new Date() },
    { id: createId(), name: 'Manta Polar con Capucha', description: 'Manta de polar premium con capucha bordada. TamaÃ±o 75x75cm, perfecta para abrigar al bebÃ© en el cochecito o en casa. SÃºper suave y calientita.', price: 6400, salePrice: 5120, stock: 15, onSale: true, categoryId: bebes.id, images: '["https://images.unsplash.com/photo-1522771930-78848d9293e8?w=800"]', colors: ['Celeste','Rosa','Gris'], sizes: ['75x75 cm'], features: ['Polar premium sÃºper suave','Capucha bordada','TamaÃ±o 75x75cm','Ideal para cochecito','Lavable a mÃ¡quina'], rating: 4.9, reviewCount: 52, weight: 320, height: 5, width: 25, length: 30, updatedAt: new Date() },
  ];

  await prisma.products.createMany({ data: products });
  await prisma.user.create({ data: { id: createId(), email: 'admin@rastuci.com', name: 'Admin', password: '$2b$10$L0ecUp38mrEEEw9LKISmDOHLWDjTYjMu7z2myubPVDYMhtkFUs8jO', isAdmin: true }});

  console.log('âœ… Seed completado: 3 categorÃ­as, 15 productos, 1 admin (admin@rastuci.com / admin123)');
}

main()
  .catch((e) => {
    console.error('âŒ Error:', e);
    process.exit(1);
  })
  .finally(async () => {
    await prisma.$disconnect();
  });
